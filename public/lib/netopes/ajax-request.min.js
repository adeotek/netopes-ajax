var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var NAppRequest={onNAppRequestInitEvent:!0,onNAppRequestCompleteEvent:!0,actionSeparator:"]!r!s![",requestSeparator:"]!r![",doubleQuotesEscape:"``",serializeMode:"json",escapeStringMode:"custom",procOn:{},timers:[],updateProcOn:function(a,b){if(b){var c="LOADER-"+String(b).replaceAll(" ","_").replaceAll("'","-").replaceAll('"',"-");NAppRequest.procOn.hasOwnProperty(c)||(NAppRequest.procOn[c]=0);NAppRequest.procOn[c]+=a;0>=NAppRequest.procOn[c]?NAppRequest.updateIndicator(b,0):NAppRequest.updateIndicator(b,
1)}},updateIndicator:function(a,b){a&&("function"===typeof a?a(b):(a=new CustomEvent(1===b?"onNAppRequestLoaderOn":"onNAppRequestLoaderOff",{detail:a}),window.dispatchEvent(a)))},escapeString:function(a){if("custom"!==NAppRequest.escapeStringMode)return a;a=String(a);return a=a.replace(/"/g,NAppRequest.doubleQuotesEscape)},getRadioValueFromObject:function(a,b,c){var d=null;if("object"==typeof a&&null!=a){if("string"!=typeof c||0===c.length)c="string"==typeof a.name&&0<a.name.length?a.name:"";if(0<
c.length){if("object"!=typeof b||null==b)b=(a=a.dataset.parent)?document.getElementById(a):document.getElementsByTagName("body")[0];if("object"==typeof b&&null!=b)for(c=b.querySelectorAll("[name="+c+"]"),a=0;a<c.length;a++)if(c[a].checked){d=c[a].value;break}}}else if("object"==typeof b&&null!=b&&"string"==typeof c&&0<c.length)for(c=b.querySelectorAll("[name="+c+"]"),a=0;a<c.length;a++)if(c[a].checked){d=c[a].value;break}return d},getFromObject:function(a,b,c){var d="";if("object"!==typeof a||null==
a||!b)return d;switch(b){case "option":d="string"===typeof c&&0<c.length?a.options[a.selectedIndex].getAttribute(c):a.options[a.selectedIndex].text;break;case "radio":"string"===typeof c&&0<c.length&&(d=NAppRequest.getRadioValueFromObject(null,a,c));break;case "visible":d=a.offsetWidth||a.offsetHeight||a.getClientRects().length?1:0;break;case "slider_start":d=$(a).slider("values",0);break;case "slider_end":d=$(a).slider("values",1);break;case "content":d=a.innerHTML;break;case "nvalue":d=a.value;
if(b=a.getAttribute("data-format"))b=b.split("|"),d=d.replaceAll(b[3],"").replaceAll(b[2],""),b[1]&&(d=d.replaceAll(b[1],"."));break;case "dvalue":d=a.value;if(b=a.getAttribute("data-format"))(a=a.getAttribute("data-timeformat"))&&(b+=" "+a),d=getDateFromFormat(d,b),d=0<d?1<b.split(" ").length?formatDate(new Date(d),"yyyy-MM-dd HH:mm:ss"):formatDate(new Date(d),"yyyy-MM-dd 00:00:00"):"";break;case "fdvalue":d=a.value;if(b=a.getAttribute("data-format"))(c=a.getAttribute("data-timeformat"))&&(b+=" "+
c),d=getDateFromFormat(d,b),d=0<d?(a=a.getAttribute("data-out-format"))?formatDate(new Date(d),a):1<b.split(" ").length?formatDate(new Date(d),"yyyy-MM-dd HH:mm:ss"):formatDate(new Date(d),"yyyy-MM-dd 00:00:00"):"";break;case "attr":d="string"===typeof c&&0<c.length?a.getAttribute(c):a[b];break;case "function":"string"===typeof c&&0<c.length&&(window.hasOwnProperty(c)?d=window[c](a):console.log("NETopes Error: Unable to find method ["+c+"]!"));break;default:d="string"===typeof a.type&&"radio"===a.type&&
"value"===b?NAppRequest.getRadioValueFromObject(a,null,null):a[b]}d&&"string"===typeof d&&(d=d.split(NAppRequest.actionSeparator).join(""));return d},serialize:function(a){return"php"===NAppRequest.serializeMode?NAppRequest.phpSerialize(a):JSON.stringify(a)},getToArray:function(a,b){if("object"!==typeof a||null==a)return b;var c=null,d=a.nodeName.toLowerCase(),e=a.getAttribute("name");if(!e||0>=e.length)e=a.getAttribute("data-name");if(e){var f=e.replace(/^[\w|\-|_]+/,"$&]").replace(/]$/,"").split("][");
if("input"===d||"select"===d||"textarea"===d)switch(a.getAttribute("type")){case "checkbox":a=!0===a.checked?a.value?NAppRequest.escapeString(a.value.split(NAppRequest.actionSeparator).join("")):0:0;break;case "radio":a=(a=document.querySelector("input[type=radio][name="+e+"]:checked").value)?NAppRequest.escapeString(a.split(NAppRequest.actionSeparator).join("")):0;break;default:d=a.getAttribute("data-paf-prop"),"string"==typeof d&&0<d.length?(d=d.split(":"),a=1<d.length?NAppRequest.getFromObject(a,
d[0],d[1]):NAppRequest.getFromObject(a,d[0])):a=NAppRequest.getFromObject(a,"value"),a=NAppRequest.escapeString(a)}else a=NAppRequest.escapeString(NAppRequest.getFromObject(a,"content"));if(0<f.length)for(d=f.length-1;0<=d;d--)""!==f[d]?(e={},e["#k#_"+f[d]]=d===f.length-1?a:c):e=[d===f.length-1?a:c],c=e;else c=[a]}return"object"==typeof b||Array.isArray(b)?arrayMerge(b,c,!0):c},getFormContent:function(a){var b="",c=document.getElementById(a),d={};"object"==typeof c?$(c).find(".postable").each(function(){"input"===
this.nodeName.toLowerCase()&&"radio"===this.getAttribute("type")?d.hasOwnProperty(this.getAttribute("name"))||(d[this.getAttribute("name")]=1,b=NAppRequest.getToArray(this,b)):b=NAppRequest.getToArray(this,b)}):console.log("Invalid form: "+a);return b},get:function(a,b,c){if(b)if("form"===b)a=NAppRequest.getFormContent(a);else{var d=document.getElementById(a),e=null;"object"!=typeof d?console.log("Invalid element: "+a):null==d?console.log("Null element: "+a):e=NAppRequest.getFromObject(document.getElementById(a),
b,c);a="string"!=typeof e?e:NAppRequest.escapeString(e)}else a=NAppRequest.escapeString(a);return NAppRequest.serialize(a)},put:function(a,b,c,d){if(b)if(d)try{var e=document.getElementById(b);"p"===c?e[d]=a+e[d]:"a"===c?e[d]+=a:"style"===d.split(".")[0]?e.style[d.split(".")[1]]=a:e&&(e[d]=a)}catch(f){}else window[b]=a},loadScripts:function(a){if(!Array.isArray(a)||0===a.length)return!1;for(var b=0;b<a.length;b++)if("object"===typeof a[b]&&"string"===typeof a[b].value&&0!==a[b].value.length)switch(a[b].type|
NaN){case "file":try{var c=document.createElement("script");c.src=a[b].value;document.body.appendChild(c)}catch(d){console.log(d),console.log(a[b].value)}break;case "eval":try{eval(a[b].value)}catch(d){console.log(d),console.log(a[b].value)}}},sendRequest:function(a,b,c,d,e,f,g,h,n){var k=new XMLHttpRequest;k.open("POST",NAPP_TARGET,"undefined"!==typeof f?!(0===f||!1===f||"0"===f):!0);k.setRequestHeader("Content-type","application/json;charset=UTF-8");k.send(d);k.onreadystatechange=function(){if(4===
k.readyState)if(200===k.status){var d=k.responseText.split(NAppRequest.actionSeparator),f=d[0]+(d[2]?d[2]:""),p=k.getResponseHeader("HTMLTargetId");"string"===typeof p&&0<p.length?NAppRequest.put(f,p,b,c):a?NAppRequest.put(f,a,b,c):(f=new CustomEvent("onNAppRequestDataReceived",{detail:f}),window.dispatchEvent(f));if(d[1])try{eval(d[1])}catch(m){console.log(m),console.log(d[1])}n&&NAppRequest.loadScripts(n);NAppRequest.updateProcOn(-1,e);NAppRequest.onNAppRequestCompleteEvent&&(d=new CustomEvent("onNAppRequestComplete",
{detail:h}),window.dispatchEvent(d));if(g)if(g instanceof Function)g();else if("string"===typeof g)try{eval(g)}catch(m){console.log(m),console.log(g)}}else console.log(k)}},executeRequest:function(a,b,c,d,e,f,g,h,n,k,t,v,p,m,u,l){m&&NAppRequest.onNAppRequestInitEvent&&(m=new CustomEvent("onNAppRequestInit",{detail:{callType:u,target:c,action:d,property:e}}),window.dispatchEvent(m));NAppRequest.updateProcOn(1,f);m=[];if(Array.isArray(l)&&0<l.length){for(var q=0;q<l.length;q++)"object"===typeof l[q]&&
l[q].executeAfter&&(m.push(l[q]),l.splice(q,1));NAppRequest.loadScripts(l)}a===decodeURIComponent(a)&&(a=encodeURIComponent(a));l="";if("object"===typeof k)for(var r in k)l+="var "+r+" = "+JSON.stringify(k[r])+"; ";if("string"===typeof h)h=eval(1===n?GibberishAES.dec(h,b):h),h=eval(l+" "+h);else if("object"!==typeof h)return console.log("NAppRequest error: invalid parameters!"),!1;h=JSON.stringify(h);if("object"===typeof t)for(var w in t)h=h.replace(new RegExp("#"+w+"#","g"),t[w]);a="req="+encodeURIComponent(NAPP_UID?
GibberishAES.enc(h,NAPP_UID):h)+NAppRequest.requestSeparator+a+NAppRequest.requestSeparator+(b||"")+"&serializemode="+NAppRequest.serializeMode+"&phash="+window.name+v;1===n&&"string"===typeof p&&(p=GibberishAES.dec(p,b));NAppRequest.sendRequest(c,d,e,a,f,g,p,u|NaN,m)},execute:function(a,b,c,d,e,f,g,h,n,k,t,v,p,m,u,l,q){if(n){var r=!1;1===e?eval("cObj = "+GibberishAES.dec(n,u)):r="object"===typeof n?n:{type:"std",message:n};if(r&&"object"===typeof r)switch(r.type){case "jqui":NAppRequest.jquiConfirmDialog(r,
function(){NAppRequest.executeRequest(m,u,a,b,c,f,g,d,e,k,t,p,v,h,q,l)});return;default:if(!0!==n(decodeURIComponent(r.message)))return}}NAppRequest.executeRequest(m,u,a,b,c,f,g,d,e,k,t,p,v,h,q,l)},executeFromString:function(a){var b={};eval("objData = "+a);a=GibberishAES.dec(b.params,"xSTR");a=eval("'"+a.replaceAll("\\'","'")+"'");NAppRequest.execute(b.targetId,b.action,b.property,a,b.encrypted,b.loader,b.async,b.triggerOnInitEvent,b.confirm,b.jParams,b.eParam,b.callback,b.postParams,b.sessionId,
b.requestId,b.jsScripts,b.callType?b.callType:"executeFromString")},timerExecute:function(a,b,c){c&&b&&(NAppRequest.executeFromString(GibberishAES.dec(c,b)),NAppRequest.timers[b]&&clearTimeout(NAppRequest.timers[b]),NAppRequest.timers[b]=setTimeout(function(){NAppRequest.timerExecute(a,b,c)},a))},executeRepeated:function(a,b,c,d,e,f,g,h,n,k,t,v,p,m,u,l,q,r){if(a&&0<a){var w=l+(new Date).getTime();b=GibberishAES.enc(JSON.stringify({targetId:b,action:c,property:d,params:GibberishAES.enc(e,"xSTR"),encrypted:f,
loader:g,async:h,triggerOnInitEvent:n,confirm:k,jParams:t,eParam:v,callback:p,postParams:m,sessionId:u,requestId:l,jsScripts:q,callType:r|NaN}),w);NAppRequest.timerExecute(a,w,b)}},phpSerialize:function(a){var b,c,d=c="",e=0,f="";var g=function(a){for(var b=0,c=a.length,d,e=0;e<c;e++)d=a.charCodeAt(e),b=128>d?b+1:2048>d?b+2:b+3;return b};var h=function(a){var b,c,d=typeof a;if("object"===d&&!a)return"null";if("object"===d){if(!a.constructor)return"object";a=a.constructor.toString();(b=a.match(/(\w+)\(/))&&
(a=b[1].toLowerCase());b=["boolean","number","string","array"];for(c in b)if(a===b[c]){d=b[c];break}}return d};c=h(a);"object"!==c&&"array"!==c&&(f=";");switch(c){case "function":g="";break;case "boolean":g="b:"+(a?"1":"0");break;case "number":g=(Math.round(a)===a?"i":"d")+":"+a;break;case "string":a=NAppRequest.escapeString(a);g="s:"+g(a)+':"'+a+'"';break;case "array":case "object":g="a";for(b in a)a.hasOwnProperty(b)&&(c=h(a[b]),"function"!==c&&(c=b.match(/^[0-9]+$/)?parseInt(b,10):b,d+=NAppRequest.serialize(c)+
NAppRequest.serialize(a[b]),e++));g+=":"+e+":{"+d+"}";break;default:g="N"}return g+f},setStyle:function(a,b){document.getElementById(a).style.cssText=b},jquiConfirmDialog:function(a,b){var c={type:"jqui",message:"",title:"",ok:"",cancel:"",targetid:""};a&&"object"==typeof a&&$.extend(c,a);if("string"!=typeof c.targetid||0===c.targetid.length)c.targetid=getUid();if("string"!=typeof c.message||0===c.message.length)c.message="???";"string"!=typeof c.title&&(c.title="");if("string"!=typeof c.ok||0===
c.ok.length)c.ok="OK";if("string"!=typeof c.cancel||0===c.cancel.length)c.cancel="Cancel";a={};a[decodeURIComponent(c.ok)]=function(){$(this).dialog("destroy");b()};a[decodeURIComponent(c.cancel)]=function(){$(this).dialog("destroy")};var d=$("#"+c.targetid);d.length||$("body").append('<div id="'+c.targetid+'" style="display: none;"></div>');d.html(decodeURIComponent(c.message));var e=500<$(window).width()?500:$(window).width()-20,f=600<$(window).width()?$(window).width()-80:$(window).width()-20;
d.dialog({title:decodeURIComponent(c.title),dialogClass:"ui-alert-dlg",minWidth:e,maxWidth:f,minHeight:"auto",resizable:!1,modal:!0,autoOpen:!0,show:{effect:"slide",duration:300,direction:"up"},hide:{effect:"slide",duration:300,direction:"down"},closeOnEscape:!0,buttons:a})},doWork:function(a,b,c){postMessage(c);NAppRequest.timers[b]=setTimeout(function(){NAppRequest.doWork(a,b,c)},a)},onMessage:function(a){a=JSON.parse(a.data);NAppRequest.timers[a.timer]&&clearTimeout(NAppRequest.timers[a.timer]);
NAppRequest.doWork(a.interval,a.timer,a.data)}};
